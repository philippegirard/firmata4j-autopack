name: PackageJar

on: [push]

jobs:
   build:
      runs-on: ubuntu-latest
      steps:
         - uses: actions/checkout@v2
         - uses: actions/setup-java@v2
           with:
               java-version: '11'
               distribution: 'adopt'
         - run: mvn assembly:assembly -DdescriptorId=jar-with-dependencies
         - run: mkdir release && cp target/*.jar release
         - uses: actions/upload-artifact@v2
           with:
               name: Package
               path: release
